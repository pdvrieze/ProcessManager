# Log in preprocessing clerk on browser object
[GLOBAL>preprocessing clerk 1] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(preprocessing clerk 1)=8ead4c37c46b6524, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.loginDirect(AuthService.kt:249)
[<unknown node>:-1>preprocessing clerk 1] - loginDirect(PW(preprocessing clerk 1)=8ead4c37c46b6524) = AuthToken(df6db7b9083ba669 - preprocessing clerk 1[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)

# Log in clerk 2 on browser object
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.loginDirect(AuthService.kt:249)
[<unknown node>:-1>postprocessing clerk 2] - loginDirect(PW(postprocessing clerk 2)=ffb7a0e2dd12b151) = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)

# Log in customer on browser object
[GLOBAL>John Doe] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(John Doe)=1c282f6bc507ffa1, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.loginDirect(AuthService.kt:249)
[<unknown node>:-1>John Doe] - loginDirect(PW(John Doe)=1c282f6bc507ffa1) = AuthToken(deeb152ca0bd97ba - John Doe[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)

---------------------------------------

# Process Engine notifies auth service of completion of start node.
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:0)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)

---------------------------------------

# Process engine create an authorization code that allows the task list (associated to clerk 1) to update activity state and accept the task
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 4bfdda9eefb092c1, token = AuthToken(8a647108daf354c6 - TaskList:66c860fcded2df95[act=1] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))))

# The task list converts the authorization code into an authentication code
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=4bfdda9eefb092c1)) = AuthToken(8a647108daf354c6 - TaskList:66c860fcded2df95[act=1] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1)))

# The preprocessing clerk gets a token against the task list.
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(df6db7b9083ba669 - preprocessing clerk 1[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>preprocessing clerk 1] - getAuthTokenDirect(AuthToken(df6db7b9083ba669 - preprocessing clerk 1[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(f6f3a83f5b0dc0c6 - preprocessing clerk 1[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)

# The preprocessing clerk accepts the task
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(f6f3a83f5b0dc0c6 - preprocessing clerk 1[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)

# The task list accepts the task
[inputCustomerMasterData:1>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(8a647108daf354c6 - TaskList:66c860fcded2df95[act=1] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))), scope = ACCEPT_TASK(H:1))

# The process engine creates an authorization code for clerk1 that associates the browser with the task
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = d593a718a9915d46, token = AuthToken(e4f424b32a9c5483 - preprocessing clerk 1[act=1] -> AuthService:fd8ffe3a.IDENTIFY))

# The process engine grants permission to the token for clerk1 to query customer data
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = e4f424b32a9c5483, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA))

# The process engine grants permission to the token for clerk1 to create a customer
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.CREATE_CUSTOMER))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = e4f424b32a9c5483, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.CREATE_CUSTOMER))

# The process engine grants permission to the token for clerk1 to update customer data
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.UPDATE_CUSTOMER_DATA))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = e4f424b32a9c5483, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.UPDATE_CUSTOMER_DATA))

# The preprocessing clerk turns in the authorization code for an authToken identifying itself against the auth service
[GLOBAL>preprocessing clerk 1] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(preprocessing clerk 1)=8ead4c37c46b6524, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>preprocessing clerk 1] - authTokenFromAuthorization(authorization = AuthorizationCode(code=d593a718a9915d46)) = AuthToken(e4f424b32a9c5483 - preprocessing clerk 1[act=1] -> AuthService:fd8ffe3a.IDENTIFY)

# Clerk 1 logs in to the customer information file (with automatic permissions)
[inputCustomerMasterData:1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(e4f424b32a9c5483 - preprocessing clerk 1[act=1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[inputCustomerMasterData:1>preprocessing clerk 1] - getAuthTokenDirect(AuthToken(e4f424b32a9c5483 - preprocessing clerk 1[act=1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(1cabe83bd8136c8a - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA))

# Clerk 1 creates a customer on the customer information file
[inputCustomerMasterData:1>preprocessing clerk 1] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(1cabe83bd8136c8a - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA)), scope = CREATE_CUSTOMER)

# The process engine informs the authorization service the task is finished
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:1)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:1, AuthToken(8a647108daf354c6 - TaskList:66c860fcded2df95[act=1] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:1, AuthToken(e4f424b32a9c5483 - preprocessing clerk 1[act=1] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:1, AuthToken(1cabe83bd8136c8a - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA)))

---------------------------------------

# The process engine creates an authorization code allowing the task list to update state (and accept tasks)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 1b093e7abbe07dbd, token = AuthToken(e89a9c1e94379f80 - TaskList:66c860fcded2df95[act=2] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))))

# The task list turns in the authorizaiton code to an authToken
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=1b093e7abbe07dbd)) = AuthToken(e89a9c1e94379f80 - TaskList:66c860fcded2df95[act=2] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2)))

# clerk 1
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(df6db7b9083ba669 - preprocessing clerk 1[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>preprocessing clerk 1] - getAuthTokenDirect(AuthToken(df6db7b9083ba669 - preprocessing clerk 1[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(b864a33e9c13c2b - preprocessing clerk 1[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)

[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(b864a33e9c13c2b - preprocessing clerk 1[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[createLoanRequest:2>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(e89a9c1e94379f80 - TaskList:66c860fcded2df95[act=2] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))), scope = ACCEPT_TASK(H:2))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 6ab4767707fda261, token = AuthToken(5a5712a91008182d - preprocessing clerk 1[act=2] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 5a5712a91008182d, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>preprocessing clerk 1] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(preprocessing clerk 1)=8ead4c37c46b6524, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>preprocessing clerk 1] - authTokenFromAuthorization(authorization = AuthorizationCode(code=6ab4767707fda261)) = AuthToken(5a5712a91008182d - preprocessing clerk 1[act=2] -> AuthService:fd8ffe3a.IDENTIFY)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:2)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:2, AuthToken(e89a9c1e94379f80 - TaskList:66c860fcded2df95[act=2] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:2, AuthToken(5a5712a91008182d - preprocessing clerk 1[act=2] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:4)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 1c1ee829350e9e6, token = AuthToken(385d187da779a9f4 - TaskList:66c860fcded2df95[act=5] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=1c1ee829350e9e6)) = AuthToken(385d187da779a9f4 - TaskList:66c860fcded2df95[act=5] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5)))
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(deeb152ca0bd97ba - John Doe[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>John Doe] - getAuthTokenDirect(AuthToken(deeb152ca0bd97ba - John Doe[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(9c352b71453f500a - John Doe[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(9c352b71453f500a - John Doe[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[getCustomerApproval:5>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(385d187da779a9f4 - TaskList:66c860fcded2df95[act=5] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))), scope = ACCEPT_TASK(H:5))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 27818a5aa6540c0f, token = AuthToken(fa7d0a36c6bf63fc - John Doe[act=5] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(SigningService:d4dc9a73.SIGN))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = fa7d0a36c6bf63fc, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(SigningService:d4dc9a73.SIGN))
[GLOBAL>John Doe] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(John Doe)=1c282f6bc507ffa1, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>John Doe] - authTokenFromAuthorization(authorization = AuthorizationCode(code=27818a5aa6540c0f)) = AuthToken(fa7d0a36c6bf63fc - John Doe[act=5] -> AuthService:fd8ffe3a.IDENTIFY)
[getCustomerApproval:5>John Doe] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(fa7d0a36c6bf63fc - John Doe[act=5] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[getCustomerApproval:5>John Doe] - getAuthTokenDirect(AuthToken(fa7d0a36c6bf63fc - John Doe[act=5] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(6a6cf22e4f8d7ffb - John Doe[act=5] -> SigningService:d4dc9a73.SIGN)
[getCustomerApproval:5>John Doe] - validateTokenPermissions(clientId = SigningService:d4dc9a73, token = AuthToken(6a6cf22e4f8d7ffb - John Doe[act=5] -> SigningService:d4dc9a73.SIGN), scope = SIGN)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:5)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:5, AuthToken(385d187da779a9f4 - TaskList:66c860fcded2df95[act=5] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:5, AuthToken(fa7d0a36c6bf63fc - John Doe[act=5] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:5, AuthToken(6a6cf22e4f8d7ffb - John Doe[act=5] -> SigningService:d4dc9a73.SIGN))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 115ca9a8732e1a83, token = AuthToken(a22d2fb81bd8ca4a - TaskList:66c860fcded2df95[act=6] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=115ca9a8732e1a83)) = AuthToken(a22d2fb81bd8ca4a - TaskList:66c860fcded2df95[act=6] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(74928f2fb079036f - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(74928f2fb079036f - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[verifyCustomerApproval:6>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(a22d2fb81bd8ca4a - TaskList:66c860fcded2df95[act=6] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))), scope = ACCEPT_TASK(H:6))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 40579d8e5d79ef0c, token = AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 60d0a77f9674004c, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(SigningService:d4dc9a73.SIGN))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 60d0a77f9674004c, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(SigningService:d4dc9a73.SIGN))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=40579d8e5d79ef0c)) = AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY)
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[verifyCustomerApproval:6>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(74e0292bbd205efb - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(74e0292bbd205efb - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)), scope = QUERY_CUSTOMER_DATA(cust123456))
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[verifyCustomerApproval:6>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(fd80699911600cb1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.SIGN)
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = SigningService:d4dc9a73, token = AuthToken(fd80699911600cb1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.SIGN), scope = SIGN)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:6)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:6, AuthToken(a22d2fb81bd8ca4a - TaskList:66c860fcded2df95[act=6] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:6, AuthToken(60d0a77f9674004c - postprocessing clerk 2[act=6] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:6, AuthToken(74e0292bbd205efb - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:6, AuthToken(fd80699911600cb1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.SIGN))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = df18fb8e32d17c29, token = AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = a1ba716df03ae50, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = a1ba716df03ae50, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))
[GLOBAL><automated>:8f861f11] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(<automated>:8f861f11)=a3974a5c6f1ed296, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL><automated>:8f861f11] - authTokenFromAuthorization(authorization = AuthorizationCode(code=df18fb8e32d17c29)) = AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY)
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[getCreditReport:7><automated>:8f861f11] - getAuthTokenDirect(AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(cbf000f24ae3430e - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(cbf000f24ae3430e - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)), scope = QUERY_CUSTOMER_DATA(cust123456))
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[getCreditReport:7><automated>:8f861f11] - getAuthTokenDirect(AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(9910c877187be0d - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234))
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = CreditBureau:b782b438, token = AuthToken(9910c877187be0d - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)), scope = GET_CREDIT_REPORT(taxId234))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:7)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:7, AuthToken(a1ba716df03ae50 - <automated>:8f861f11[act=7] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:7, AuthToken(cbf000f24ae3430e - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:7, AuthToken(9910c877187be0d - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 14a24c241602f45b, token = AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = e277a18d410b3c04, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = e277a18d410b3c04, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))))
[GLOBAL><automated>:8f861f11] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(<automated>:8f861f11)=a3974a5c6f1ed296, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL><automated>:8f861f11] - authTokenFromAuthorization(authorization = AuthorizationCode(code=14a24c241602f45b)) = AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY)
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[getLoanEvaluation:8><automated>:8f861f11] - getAuthTokenDirect(AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(b0ccb65f4b56efb3 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(b0ccb65f4b56efb3 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))), scope = GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[getLoanEvaluation:8><automated>:8f861f11] - createAuthorizationCode(code = 15832a7a845115d6, token = AuthToken(6c6f1a1ee3234b6f - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[getLoanEvaluation:8><automated>:8f861f11] - getAuthTokenDirect(AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(812f50c64376f205 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0))
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = Credit_Application:9965ca2d, token = AuthToken(812f50c64376f205 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0)), scope = nl.adaptivity.process.engine.test.loanOrigination.auth.MonetaryUseScope@257a782)
[GLOBAL>Credit_Application:9965ca2d] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(Credit_Application:9965ca2d)=491492f9783c5061, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>Credit_Application:9965ca2d] - authTokenFromAuthorization(authorization = AuthorizationCode(code=15832a7a845115d6)) = AuthToken(6c6f1a1ee3234b6f - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))
[getLoanEvaluation:8>Credit_Application:9965ca2d] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(6c6f1a1ee3234b6f - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)), scope = QUERY_CUSTOMER_DATA(cust123456))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:8)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:8, AuthToken(e277a18d410b3c04 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:8, AuthToken(b0ccb65f4b56efb3 - <automated>:8f861f11[act=8] -> AuthService:fd8ffe3a.GRANT_PERMISSION(Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:8, AuthToken(6c6f1a1ee3234b6f - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:8, AuthToken(812f50c64376f205 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:9)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:3)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:10)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:12)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = abcee0fb7ffb0e9f, token = AuthToken(34698f13af30422 - TaskList:66c860fcded2df95[act=13] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=abcee0fb7ffb0e9f)) = AuthToken(34698f13af30422 - TaskList:66c860fcded2df95[act=13] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(f0d16244644de04c - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(f0d16244644de04c - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[priceBundledProduct:13>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(34698f13af30422 - TaskList:66c860fcded2df95[act=13] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))), scope = ACCEPT_TASK(H:13))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 205bf375efe1097, token = AuthToken(2fce074b09dfc4c5 - postprocessing clerk 2[act=13] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Pricing_Engine:5682af11.PRICE_LOAN()))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 2fce074b09dfc4c5, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Pricing_Engine:5682af11.PRICE_LOAN()))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=205bf375efe1097)) = AuthToken(2fce074b09dfc4c5 - postprocessing clerk 2[act=13] -> AuthService:fd8ffe3a.IDENTIFY)
[priceBundledProduct:13>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(2fce074b09dfc4c5 - postprocessing clerk 2[act=13] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[priceBundledProduct:13>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(2fce074b09dfc4c5 - postprocessing clerk 2[act=13] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(8082a4dcdd91f4a8 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN())
[priceBundledProduct:13>postprocessing clerk 2] - validateTokenPermissions(clientId = Pricing_Engine:5682af11, token = AuthToken(8082a4dcdd91f4a8 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN()), scope = nl.adaptivity.process.engine.test.loanOrigination.auth.MonetaryUseScope@89a9176e)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:13)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:13, AuthToken(34698f13af30422 - TaskList:66c860fcded2df95[act=13] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:13, AuthToken(2fce074b09dfc4c5 - postprocessing clerk 2[act=13] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:13, AuthToken(8082a4dcdd91f4a8 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN()))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = c7acb25555a573a7, token = AuthToken(4693ef87277b56b8 - TaskList:66c860fcded2df95[act=14] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=c7acb25555a573a7)) = AuthToken(4693ef87277b56b8 - TaskList:66c860fcded2df95[act=14] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(7b359b16f2cf8811 - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(7b359b16f2cf8811 - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[approveOffer:14>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(4693ef87277b56b8 - TaskList:66c860fcded2df95[act=14] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))), scope = ACCEPT_TASK(H:14))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 775fa38002d37a6b, token = AuthToken(7ee66bdfcc0e1a69 - postprocessing clerk 2[act=14] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=775fa38002d37a6b)) = AuthToken(7ee66bdfcc0e1a69 - postprocessing clerk 2[act=14] -> AuthService:fd8ffe3a.IDENTIFY)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:14)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:14, AuthToken(4693ef87277b56b8 - TaskList:66c860fcded2df95[act=14] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:14, AuthToken(7ee66bdfcc0e1a69 - postprocessing clerk 2[act=14] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:15)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:11)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 88b3bc35750e04dc, token = AuthToken(6af07ee9a83c3580 - TaskList:66c860fcded2df95[act=16] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=88b3bc35750e04dc)) = AuthToken(6af07ee9a83c3580 - TaskList:66c860fcded2df95[act=16] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(3fe39b0f1166353e - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(3fe39b0f1166353e - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[printOffer:16>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(6af07ee9a83c3580 - TaskList:66c860fcded2df95[act=16] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))), scope = ACCEPT_TASK(H:16))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = e3c46af976f84ccc, token = AuthToken(63a5d0a1470d8e24 - postprocessing clerk 2[act=16] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Output_Manamgent_System:e655d173.PRINT_OFFER))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 63a5d0a1470d8e24, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Output_Manamgent_System:e655d173.PRINT_OFFER))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=e3c46af976f84ccc)) = AuthToken(63a5d0a1470d8e24 - postprocessing clerk 2[act=16] -> AuthService:fd8ffe3a.IDENTIFY)
[printOffer:16>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63a5d0a1470d8e24 - postprocessing clerk 2[act=16] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[printOffer:16>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63a5d0a1470d8e24 - postprocessing clerk 2[act=16] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(4914ea5edf340d9c - postprocessing clerk 2[act=16] -> Output_Manamgent_System:e655d173.PRINT_OFFER)
[printOffer:16>postprocessing clerk 2] - validateTokenPermissions(clientId = Output_Manamgent_System:e655d173, token = AuthToken(4914ea5edf340d9c - postprocessing clerk 2[act=16] -> Output_Manamgent_System:e655d173.PRINT_OFFER), scope = PRINT_OFFER)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:16)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:16, AuthToken(6af07ee9a83c3580 - TaskList:66c860fcded2df95[act=16] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:16, AuthToken(63a5d0a1470d8e24 - postprocessing clerk 2[act=16] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:16, AuthToken(4914ea5edf340d9c - postprocessing clerk 2[act=16] -> Output_Manamgent_System:e655d173.PRINT_OFFER))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 19251b4bb16098d9, token = AuthToken(8a2c7a87e8dbe4da - TaskList:66c860fcded2df95[act=17] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=19251b4bb16098d9)) = AuthToken(8a2c7a87e8dbe4da - TaskList:66c860fcded2df95[act=17] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17)))
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(deeb152ca0bd97ba - John Doe[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>John Doe] - getAuthTokenDirect(AuthToken(deeb152ca0bd97ba - John Doe[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(56df7e8fa22b3220 - John Doe[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(56df7e8fa22b3220 - John Doe[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[customerSignsContract:17>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(8a2c7a87e8dbe4da - TaskList:66c860fcded2df95[act=17] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))), scope = ACCEPT_TASK(H:17))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 647e334273748f71, token = AuthToken(31b6ec01d53df99a - John Doe[act=17] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>John Doe] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(John Doe)=1c282f6bc507ffa1, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>John Doe] - authTokenFromAuthorization(authorization = AuthorizationCode(code=647e334273748f71)) = AuthToken(31b6ec01d53df99a - John Doe[act=17] -> AuthService:fd8ffe3a.IDENTIFY)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:17)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:17, AuthToken(8a2c7a87e8dbe4da - TaskList:66c860fcded2df95[act=17] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:17, AuthToken(31b6ec01d53df99a - John Doe[act=17] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = 7d12d81826f0b632, token = AuthToken(4fccac53926f72d5 - TaskList:66c860fcded2df95[act=18] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=7d12d81826f0b632)) = AuthToken(4fccac53926f72d5 - TaskList:66c860fcded2df95[act=18] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(a265152aa7e7e8bd - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(a265152aa7e7e8bd - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[bankSignsContract:18>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(4fccac53926f72d5 - TaskList:66c860fcded2df95[act=18] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))), scope = ACCEPT_TASK(H:18))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = d4d76a4801be7934, token = AuthToken(83bcbe123d8d9229 - postprocessing clerk 2[act=18] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Output_Manamgent_System:e655d173.SIGN_LOAN(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = 83bcbe123d8d9229, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Output_Manamgent_System:e655d173.SIGN_LOAN(cust123456)))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=d4d76a4801be7934)) = AuthToken(83bcbe123d8d9229 - postprocessing clerk 2[act=18] -> AuthService:fd8ffe3a.IDENTIFY)
[bankSignsContract:18>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(83bcbe123d8d9229 - postprocessing clerk 2[act=18] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[bankSignsContract:18>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(83bcbe123d8d9229 - postprocessing clerk 2[act=18] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(ae639641a5001a0a - postprocessing clerk 2[act=18] -> Output_Manamgent_System:e655d173.SIGN_LOAN(cust123456))
[bankSignsContract:18>postprocessing clerk 2] - validateTokenPermissions(clientId = Output_Manamgent_System:e655d173, token = AuthToken(ae639641a5001a0a - postprocessing clerk 2[act=18] -> Output_Manamgent_System:e655d173.SIGN_LOAN(cust123456)), scope = nl.adaptivity.process.engine.test.loanOrigination.auth.MonetaryUseScope@d57840ec)
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:18)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:18, AuthToken(4fccac53926f72d5 - TaskList:66c860fcded2df95[act=18] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:18, AuthToken(83bcbe123d8d9229 - postprocessing clerk 2[act=18] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:18, AuthToken(ae639641a5001a0a - postprocessing clerk 2[act=18] -> Output_Manamgent_System:e655d173.SIGN_LOAN(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = c030a42993c5071f, token = AuthToken(3fa37ed69bb50390 - TaskList:66c860fcded2df95[act=19] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))))
[GLOBAL>TaskList:66c860fcded2df95] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(TaskList:66c860fcded2df95)=96f3e567fe1df31, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>TaskList:66c860fcded2df95] - authTokenFromAuthorization(authorization = AuthorizationCode(code=c030a42993c5071f)) = AuthToken(3fa37ed69bb50390 - TaskList:66c860fcded2df95[act=19] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19)))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(63f088624766ce9f - postprocessing clerk 2[act=-1] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(b4571076065631e3 - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList:66c860fcded2df95, token = AuthToken(b4571076065631e3 - postprocessing clerk 2[act=-1] -> TaskList:66c860fcded2df95.ACCEPT_TASK), scope = ACCEPT_TASK)
[openAccount:19>TaskList:66c860fcded2df95] - validateTokenPermissions(clientId = ProcessEngine:149244ff, token = AuthToken(3fa37ed69bb50390 - TaskList:66c860fcded2df95[act=19] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))), scope = ACCEPT_TASK(H:19))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.IDENTIFY)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.createAuthorizationCodeImpl(AuthService.kt:158)
[GLOBAL>ProcessEngine:149244ff] - createAuthorizationCode(code = ca5c2f671eaf2edc, token = AuthToken(cae968f92678ae57 - postprocessing clerk 2[act=19] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = GRANT_PERMISSION(AuthService:fd8ffe3a.GRANT_PERMISSION(Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.grantPermission(AuthService.kt:263)
[GLOBAL>ProcessEngine:149244ff] - grantPermission(token = cae968f92678ae57, serviceId = AuthService:fd8ffe3a, scope = GRANT_PERMISSION(Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(postprocessing clerk 2)=ffb7a0e2dd12b151, scope = IDENTIFY) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.getAuthToken(AuthService.kt:175)
[GLOBAL>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=ca5c2f671eaf2edc)) = AuthToken(cae968f92678ae57 - postprocessing clerk 2[act=19] -> AuthService:fd8ffe3a.IDENTIFY)
[openAccount:19>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:fd8ffe3a, token = AuthToken(cae968f92678ae57 - postprocessing clerk 2[act=19] -> AuthService:fd8ffe3a.IDENTIFY), scope = IDENTIFY)
[openAccount:19>postprocessing clerk 2] - getAuthTokenDirect(AuthToken(cae968f92678ae57 - postprocessing clerk 2[act=19] -> AuthService:fd8ffe3a.IDENTIFY)) = AuthToken(91e569335e588a27 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456))
[openAccount:19>postprocessing clerk 2] - validateTokenPermissions(clientId = Account_Management_System:3298b915, token = AuthToken(91e569335e588a27 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)), scope = OPEN_ACCOUNT(cust123456))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:19)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:19, AuthToken(3fa37ed69bb50390 - TaskList:66c860fcded2df95[act=19] -> ProcessEngine:149244ff.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:19, AuthToken(cae968f92678ae57 - postprocessing clerk 2[act=19] -> AuthService:fd8ffe3a.IDENTIFY))
[GLOBAL>ProcessEngine:149244ff] - invalidateActivityTokens(H:19, AuthToken(91e569335e588a27 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))
[GLOBAL>ProcessEngine:149244ff] - validateUserPermissions(clientId = AuthService:fd8ffe3a, authInfo = PW(ProcessEngine:149244ff)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:20)) from nl.adaptivity.process.engine.test.loanOrigination.systems.AuthService.invalidateActivityTokens(AuthService.kt:272)
