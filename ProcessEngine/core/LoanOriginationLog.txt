# Register clients to auth service
[UNAUTH] - registerClient(ProcessEngine:fd8ffe3a)
    [UNAUTH] - registerGlobalPermissions(null, ProcessEngine:fd8ffe3a, AuthService:149244ff, UPDATE_ACTIVITY_STATE)
    [UNAUTH] - registerGlobalPermissions(null, ProcessEngine:fd8ffe3a, AuthService:149244ff, GRANT_GLOBAL_PERMISSION)
[UNAUTH] - registerClient(Customer_Information_File:e1baf537)
[UNAUTH] - registerClient(Output_Management_System:e655d173)
[UNAUTH] - registerClient(Account_Management_System:3298b915)
[UNAUTH] - registerClient(CreditBureau:b782b438)
[UNAUTH] - registerClient(Credit_Application:9965ca2d)
[UNAUTH] - registerClient(Pricing_Engine:5682af11)
[UNAUTH] - registerClient(<automated>:8f861f11)
[UNAUTH] - registerClient(SigningService:d4dc9a73)

# Log in preprocessing clerk on browser object
[UNAUTH] - registerClient(preprocessing clerk 1)
[GLOBAL>preprocessing clerk 1] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(preprocessing clerk 1)=66c860fcded2df95, scope = IDENTIFY) from AuthService.loginDirect
[<unknown node>:-1>preprocessing clerk 1] - loginDirect(PW(preprocessing clerk 1)=66c860fcded2df95) = AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY)
Browser(preprocessing clerk 1).addToken(AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY))

# Log in clerk 2 on browser object
[UNAUTH] - registerClient(postprocessing clerk 2)
[GLOBAL>postprocessing clerk 2] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(postprocessing clerk 2)=8ead4c37c46b6524, scope = IDENTIFY) from AuthService.loginDirect
[<unknown node>:-1>postprocessing clerk 2] - loginDirect(PW(postprocessing clerk 2)=8ead4c37c46b6524) = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY))

# Log in customer on browser object
[UNAUTH] - registerClient(John Doe)
[GLOBAL>John Doe] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(John Doe)=ffb7a0e2dd12b151, scope = IDENTIFY) from AuthService.loginDirect
[<unknown node>:-1>John Doe] - loginDirect(PW(John Doe)=ffb7a0e2dd12b151) = AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY)
Browser(John Doe).addToken(AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY))

---------------------------------------

# Process Engine notifies auth service of completion of start node.
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:0)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:0)) from AuthService.invalidateActivityTokens

---------------------------------------

Creating tasklist for preprocessing clerk 1
[UNAUTH] - registerClient(TaskList(preprocessing clerk 1):deeb152d)
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, preprocessing clerk 1, TaskList(preprocessing clerk 1):deeb152d, ACCEPT_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK)) from AuthService.registerGlobalPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, ProcessEngine:fd8ffe3a, TaskList(preprocessing clerk 1):deeb152d, POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(preprocessing clerk 1):deeb152d.POST_TASK)) from AuthService.registerGlobalPermission

---------------------------------------

# Process engine create an authorization code that allows the task list (associated to clerk 1) to update activity state and accept the task
EngineService.registerActivityToTaskList(H:1)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:1, TaskList(preprocessing clerk 1):deeb152d->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = daf354c64bfdda9f, token = AuthToken(a0bd97b98a647109 - TaskList(preprocessing clerk 1):deeb152d[act=1] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))))

    # Create an authentication token for the process engine to be able to access the task list.
    EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
    [GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
    [GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK)


# The task list associated with preprocessing clerk 1 converts the authorization code into an authentication code
TaskList(preprocessing clerk 1).postTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), AuthorizationCode(code=daf354c64bfdda9f, principal=TaskList(preprocessing clerk 1):deeb152d), H:1)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(preprocessing clerk 1):deeb152d)=1c282f6bc507ffa1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - authTokenFromAuthorization(authorization = AuthorizationCode(code=daf354c64bfdda9f, principal=TaskList(preprocessing clerk 1):deeb152d)) = AuthToken(a0bd97b98a647109 - TaskList(preprocessing clerk 1):deeb152d[act=1] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1)))

# The preprocessing clerk gets a token against the task list.
Browser(preprocessing clerk 1).loginToService(TaskList(preprocessing clerk 1):deeb152d)
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>preprocessing clerk 1] - getAuthorizationCode(AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=2a9c5482d593a719, principal=TaskList(preprocessing clerk 1):deeb152d) -> AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK)
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(preprocessing clerk 1):deeb152d)=1c282f6bc507ffa1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - authTokenFromAuthorization(authorization = AuthorizationCode(code=2a9c5482d593a719, principal=TaskList(preprocessing clerk 1):deeb152d)) = AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK)
Browser(preprocessing clerk 1).addToken(AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK))

# The preprocessing clerk accepts the task
TaskList(preprocessing clerk 1).acceptActivity(H:1, preprocessing clerk 1)
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK), scope = ACCEPT_TASK)

# The task list accepts the task
EngineService.acceptActivity(AuthToken(a0bd97b98a647109 - TaskList(preprocessing clerk 1):deeb152d[act=1] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))), H:1, preprocessing clerk 1)
  # Verify that the task list itself has permission to accept the task (it has a task related token)
[inputCustomerMasterData:1>TaskList(preprocessing clerk 1):deeb152d] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(a0bd97b98a647109 - TaskList(preprocessing clerk 1):deeb152d[act=1] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))), scope = ACCEPT_TASK(H:1))

    # The process engine creates an authorization code for clerk1 that associates the browser with the task
    [GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
    [GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = d8136c89e89a9c1f, token = AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY))

    # The process engine grants permission to the token for clerk1 to query customer data
    [GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:1, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA))) from AuthService.grantPermission
    [GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = a9915d461cabe83c, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA))

    # The process engine grants permission to the token for clerk1 to create a customer
    [GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:1, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.CREATE_CUSTOMER))) from AuthService.grantPermission
    [GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = a9915d461cabe83c, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.CREATE_CUSTOMER))

    # The process engine grants permission to the token for clerk1 to update customer data
    [GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:1, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.UPDATE_CUSTOMER_DATA))) from AuthService.grantPermission
    [GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = a9915d461cabe83c, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:1, preprocessing clerk 1->Customer_Information_File:e1baf537.UPDATE_CUSTOMER_DATA))

# The preprocessing clerk turns in the authorization code for an authToken identifying itself against the auth service
Browser(preprocessing clerk 1).addTokenFromAuth(AuthorizationCode(code=d8136c89e89a9c1f, principal=preprocessing clerk 1))
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>preprocessing clerk 1] - authTokenFromAuthorization(authorization = AuthorizationCode(code=d8136c89e89a9c1f, principal=preprocessing clerk 1)) = AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY)
Browser(preprocessing clerk 1).addToken(AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY))

# Clerk 1 logs in to the customer information file (with automatic permissions)
TaskList(preprocessing clerk 1).loginToService(Customer_Information_File:e1baf537)
Browser(preprocessing clerk 1).loginToService(Customer_Information_File:e1baf537)
[inputCustomerMasterData:1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[inputCustomerMasterData:1>preprocessing clerk 1] - getAuthorizationCode(AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=bbe07dbd0b864a34, principal=Customer_Information_File:e1baf537) -> AuthToken(94379f801b093e7b - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA))
[GLOBAL>Customer_Information_File:e1baf537] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Customer_Information_File:e1baf537)=faba6181555d9ac2, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Customer_Information_File:e1baf537] - authTokenFromAuthorization(authorization = AuthorizationCode(code=bbe07dbd0b864a34, principal=Customer_Information_File:e1baf537)) = AuthToken(94379f801b093e7b - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA))
Browser(preprocessing clerk 1).addToken(AuthToken(94379f801b093e7b - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA)))

# Clerk 1 creates a customer on the customer information file
CustomerInformationFile.enterCustomerData()
[inputCustomerMasterData:1>preprocessing clerk 1] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(94379f801b093e7b - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA)), scope = CREATE_CUSTOMER)

# The process engine informs the authorization service the task is finished
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:1)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
  # before: unregister task, after: invalidate tokens
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:1)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:1)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:1, AuthToken(a0bd97b98a647109 - TaskList(preprocessing clerk 1):deeb152d[act=1] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:1) && ACCEPT_TASK(H:1))))
[UNAUTH] - invalidateActivityTokens/token(H:1, AuthToken(a9915d461cabe83c - preprocessing clerk 1[act=1] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:1, AuthToken(94379f801b093e7b - preprocessing clerk 1[act=1] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA && CREATE_CUSTOMER && UPDATE_CUSTOMER_DATA)))

---------------------------------------

# The process engine creates an authorization code allowing the task list to update state (and accept tasks)
EngineService.registerActivityToTaskList(H:2)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:2, TaskList(preprocessing clerk 1):deeb152d->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 1008182d6ab47677, token = AuthToken(e9c13c2b5a5712a9 - TaskList(preprocessing clerk 1):deeb152d[act=2] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))))

    # The process engine retrieves from storage the token allowing it to access the work list.
    EngineService.authTokenForService(TaskList:96f3e56, AnyScope)

# The task list turns in the authorization code to an authToken
TaskList(preprocessing clerk 1).postTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), AuthorizationCode(code=1008182d6ab47677, principal=TaskList(preprocessing clerk 1):deeb152d), H:2)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(preprocessing clerk 1):deeb152d)=1c282f6bc507ffa1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(preprocessing clerk 1):deeb152d] - authTokenFromAuthorization(authorization = AuthorizationCode(code=1008182d6ab47677, principal=TaskList(preprocessing clerk 1):deeb152d)) = AuthToken(e9c13c2b5a5712a9 - TaskList(preprocessing clerk 1):deeb152d[act=2] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2)))

# clerk 1 is still logged in to tasklist
Browser(preprocessing clerk 1).loginToService(TaskList(preprocessing clerk 1):deeb152d) = already logged in - AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK)

# clerk 1 accepts activity 2
TaskList(preprocessing clerk 1).acceptActivity(H:2, preprocessing clerk 1)
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(5b0dc0c5e4f424b3 - preprocessing clerk 1[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.ACCEPT_TASK), scope = ACCEPT_TASK)

# Task list forwards accepting of activity
EngineService.acceptActivity(AuthToken(e9c13c2b5a5712a9 - TaskList(preprocessing clerk 1):deeb152d[act=2] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))), H:2, preprocessing clerk 1)
[createLoanRequest:2>TaskList(preprocessing clerk 1):deeb152d] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(e9c13c2b5a5712a9 - TaskList(preprocessing clerk 1):deeb152d[act=2] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))), scope = ACCEPT_TASK(H:2))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:2, preprocessing clerk 1->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = a779a9f401c1ee83, token = AuthToken(7fda261385d187e - preprocessing clerk 1[act=2] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:2, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:2, preprocessing clerk 1->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 7fda261385d187e, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:2, preprocessing clerk 1->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
Browser(preprocessing clerk 1).addTokenFromAuth(AuthorizationCode(code=a779a9f401c1ee83, principal=preprocessing clerk 1))
[<unknown node>:-1>preprocessing clerk 1] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(96f3e567fe1df31 - preprocessing clerk 1[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>preprocessing clerk 1] - authTokenFromAuthorization(authorization = AuthorizationCode(code=a779a9f401c1ee83, principal=preprocessing clerk 1)) = AuthToken(7fda261385d187e - preprocessing clerk 1[act=2] -> AuthService:149244ff.IDENTIFY)
Browser(preprocessing clerk 1).addToken(AuthToken(7fda261385d187e - preprocessing clerk 1[act=2] -> AuthService:149244ff.IDENTIFY))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:2)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:2)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:2)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:2, AuthToken(e9c13c2b5a5712a9 - TaskList(preprocessing clerk 1):deeb152d[act=2] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:2) && ACCEPT_TASK(H:2))))
[UNAUTH] - invalidateActivityTokens/token(H:2, AuthToken(7fda261385d187e - preprocessing clerk 1[act=2] -> AuthService:149244ff.IDENTIFY))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:4)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:4)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:4)) from AuthService.invalidateActivityTokens
Creating tasklist for John Doe
[UNAUTH] - registerClient(TaskList(John Doe):453f500a)
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, John Doe, TaskList(John Doe):453f500a, ACCEPT_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(John Doe):453f500a.ACCEPT_TASK)) from AuthService.registerGlobalPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, ProcessEngine:fd8ffe3a, TaskList(John Doe):453f500a, POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(John Doe):453f500a.POST_TASK)) from AuthService.registerGlobalPermission
EngineService.registerActivityToTaskList(H:5)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:5, TaskList(John Doe):453f500a->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 27818a5aa6540c0f, token = AuthToken(fa7d0a36c6bf63fc - TaskList(John Doe):453f500a[act=5] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))))
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK)
TaskList(John Doe).postTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), AuthorizationCode(code=27818a5aa6540c0f, principal=TaskList(John Doe):453f500a), H:5)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(John Doe):453f500a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(John Doe):453f500a)=9350e9e59c352b71, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(John Doe):453f500a] - authTokenFromAuthorization(authorization = AuthorizationCode(code=27818a5aa6540c0f, principal=TaskList(John Doe):453f500a)) = AuthToken(fa7d0a36c6bf63fc - TaskList(John Doe):453f500a[act=5] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5)))
Browser(John Doe).loginToService(TaskList(John Doe):453f500a)
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>John Doe] - getAuthorizationCode(AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=115ca9a8732e1a83, principal=TaskList(John Doe):453f500a) -> AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK)
[GLOBAL>TaskList(John Doe):453f500a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(John Doe):453f500a)=9350e9e59c352b71, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(John Doe):453f500a] - authTokenFromAuthorization(authorization = AuthorizationCode(code=115ca9a8732e1a83, principal=TaskList(John Doe):453f500a)) = AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK)
Browser(John Doe).addToken(AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK))
TaskList(John Doe).acceptActivity(H:5, John Doe)
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(fa7d0a36c6bf63fc - TaskList(John Doe):453f500a[act=5] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))), H:5, John Doe)
[getCustomerApproval:5>TaskList(John Doe):453f500a] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(fa7d0a36c6bf63fc - TaskList(John Doe):453f500a[act=5] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))), scope = ACCEPT_TASK(H:5))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:5, John Doe->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 60d0a77f9674004c, token = AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:5, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:5, John Doe->SigningService:d4dc9a73.SIGN))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 74928f2fb079036f, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:5, John Doe->SigningService:d4dc9a73.SIGN))
Browser(John Doe).addTokenFromAuth(AuthorizationCode(code=60d0a77f9674004c, principal=John Doe))
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>John Doe] - authTokenFromAuthorization(authorization = AuthorizationCode(code=60d0a77f9674004c, principal=John Doe)) = AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY)
Browser(John Doe).addToken(AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY))
TaskList(John Doe).loginToService(SigningService:d4dc9a73)
Browser(John Doe).loginToService(SigningService:d4dc9a73)
[getCustomerApproval:5>John Doe] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[getCustomerApproval:5>John Doe] - getAuthorizationCode(AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=74e0292bbd205efb, principal=SigningService:d4dc9a73) -> AuthToken(40579d8e5d79ef0c - John Doe[act=5] -> SigningService:d4dc9a73.SIGN)
[GLOBAL>SigningService:d4dc9a73] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(SigningService:d4dc9a73)=eb077d106cfff99, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>SigningService:d4dc9a73] - authTokenFromAuthorization(authorization = AuthorizationCode(code=74e0292bbd205efb, principal=SigningService:d4dc9a73)) = AuthToken(40579d8e5d79ef0c - John Doe[act=5] -> SigningService:d4dc9a73.SIGN)
Browser(John Doe).addToken(AuthToken(40579d8e5d79ef0c - John Doe[act=5] -> SigningService:d4dc9a73.SIGN))
SigningService.signDocument(Approval(isApproved=true))
[getCustomerApproval:5>John Doe] - validateTokenPermissions(clientId = SigningService:d4dc9a73, token = AuthToken(40579d8e5d79ef0c - John Doe[act=5] -> SigningService:d4dc9a73.SIGN), scope = SIGN)
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:5)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:5)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:5)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:5)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:5, AuthToken(fa7d0a36c6bf63fc - TaskList(John Doe):453f500a[act=5] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:5) && ACCEPT_TASK(H:5))))
[UNAUTH] - invalidateActivityTokens/token(H:5, AuthToken(74928f2fb079036f - John Doe[act=5] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:5, AuthToken(40579d8e5d79ef0c - John Doe[act=5] -> SigningService:d4dc9a73.SIGN))
Creating tasklist for postprocessing clerk 2
[UNAUTH] - registerClient(TaskList(postprocessing clerk 2):a1ba717)
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, postprocessing clerk 2, TaskList(postprocessing clerk 2):a1ba717, ACCEPT_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)) from AuthService.registerGlobalPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - registerGlobalPermissions(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, ProcessEngine:fd8ffe3a, TaskList(postprocessing clerk 2):a1ba717, POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_GLOBAL_PERMISSION(ProcessEngine:fd8ffe3a.TaskList(postprocessing clerk 2):a1ba717.POST_TASK)) from AuthService.registerGlobalPermission
EngineService.registerActivityToTaskList(H:6)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:6, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 32d17c28cbf000f2, token = AuthToken(df03ae4fdf18fb8e - TaskList(postprocessing clerk 2):a1ba717[act=6] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=32d17c28cbf000f2, principal=TaskList(postprocessing clerk 2):a1ba717), H:6)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=32d17c28cbf000f2, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(df03ae4fdf18fb8e - TaskList(postprocessing clerk 2):a1ba717[act=6] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - getAuthorizationCode(AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=410b3c0414a24c24, principal=TaskList(postprocessing clerk 2):a1ba717) -> AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=410b3c0414a24c24, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
Browser(postprocessing clerk 2).addToken(AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK))
TaskList(postprocessing clerk 2).acceptActivity(H:6, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(df03ae4fdf18fb8e - TaskList(postprocessing clerk 2):a1ba717[act=6] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))), H:6, postprocessing clerk 2)
[verifyCustomerApproval:6>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(df03ae4fdf18fb8e - TaskList(postprocessing clerk 2):a1ba717[act=6] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))), scope = ACCEPT_TASK(H:6))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:6, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 4b56efb36c6f1a1f, token = AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:6, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:6, postprocessing clerk 2->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 1602f45ab0ccb65f, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:6, postprocessing clerk 2->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:6, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:6, postprocessing clerk 2->SigningService:d4dc9a73.SIGN))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 1602f45ab0ccb65f, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:6, postprocessing clerk 2->SigningService:d4dc9a73.SIGN))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=4b56efb36c6f1a1f, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=4b56efb36c6f1a1f, principal=postprocessing clerk 2)) = AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY))
TaskList(postprocessing clerk 2).loginToService(Customer_Information_File:e1baf537)
Browser(postprocessing clerk 2).loginToService(Customer_Information_File:e1baf537)
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[verifyCustomerApproval:6>postprocessing clerk 2] - getAuthorizationCode(AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=845115d5812f50c6, principal=Customer_Information_File:e1baf537) -> AuthToken(e3234b6f15832a7b - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA(cust123456) && SIGN))
[GLOBAL>Customer_Information_File:e1baf537] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Customer_Information_File:e1baf537)=faba6181555d9ac2, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Customer_Information_File:e1baf537] - authTokenFromAuthorization(authorization = AuthorizationCode(code=845115d5812f50c6, principal=Customer_Information_File:e1baf537)) = AuthToken(e3234b6f15832a7b - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA(cust123456) && SIGN))
Browser(postprocessing clerk 2).addToken(AuthToken(e3234b6f15832a7b - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)))
CustomerInformationFile.getCustomerData(cust123456)
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(e3234b6f15832a7b - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)), scope = QUERY_CUSTOMER_DATA(cust123456))
TaskList(postprocessing clerk 2).loginToService(SigningService:d4dc9a73)
Browser(postprocessing clerk 2).loginToService(SigningService:d4dc9a73)
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[verifyCustomerApproval:6>postprocessing clerk 2] - getAuthorizationCode(AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=3af30421abcee0fb, principal=SigningService:d4dc9a73) -> AuthToken(4376f205034698f1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.(QUERY_CUSTOMER_DATA(cust123456) && SIGN))
[GLOBAL>SigningService:d4dc9a73] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(SigningService:d4dc9a73)=eb077d106cfff99, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>SigningService:d4dc9a73] - authTokenFromAuthorization(authorization = AuthorizationCode(code=3af30421abcee0fb, principal=SigningService:d4dc9a73)) = AuthToken(4376f205034698f1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.(QUERY_CUSTOMER_DATA(cust123456) && SIGN))
Browser(postprocessing clerk 2).addToken(AuthToken(4376f205034698f1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)))
SigningService.signDocument(SignedDocument(signedBy=John Doe, nodeInstanceHandle=5, document=Approval(isApproved=true)))
[verifyCustomerApproval:6>postprocessing clerk 2] - validateTokenPermissions(clientId = SigningService:d4dc9a73, token = AuthToken(4376f205034698f1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)), scope = SIGN)
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:6)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:6)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:6)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:6)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:6)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:6, AuthToken(df03ae4fdf18fb8e - TaskList(postprocessing clerk 2):a1ba717[act=6] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:6) && ACCEPT_TASK(H:6))))
[UNAUTH] - invalidateActivityTokens/token(H:6, AuthToken(1602f45ab0ccb65f - postprocessing clerk 2[act=6] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:6, AuthToken(e3234b6f15832a7b - postprocessing clerk 2[act=6] -> Customer_Information_File:e1baf537.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)))
[UNAUTH] - invalidateActivityTokens/token(H:6, AuthToken(4376f205034698f1 - postprocessing clerk 2[act=6] -> SigningService:d4dc9a73.(QUERY_CUSTOMER_DATA(cust123456) && SIGN)))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:7, <automated>:8f861f11->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 644de04c2fce074b, token = AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:7, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:7, <automated>:8f861f11->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 7ffb0e9ef0d16244, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:7, <automated>:8f861f11->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:7, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:7, <automated>:8f861f11->CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 7ffb0e9ef0d16244, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:7, <automated>:8f861f11->CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))
[GLOBAL><automated>:8f861f11] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(<automated>:8f861f11)=a3974a5c6f1ed296, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL><automated>:8f861f11] - authTokenFromAuthorization(authorization = AuthorizationCode(code=644de04c2fce074b, principal=<automated>:8f861f11)) = AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY)
GeneralClientService.getServiceToken(Customer_Information_File:e1baf537, QUERY_CUSTOMER_DATA(cust123456))
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[getCreditReport:7><automated>:8f861f11] - getAuthTokenDirect(AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY)) = AuthToken(9dfc4c50205bf37 - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))
CustomerInformationFile.getCustomerData(cust123456)
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(9dfc4c50205bf37 - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)), scope = QUERY_CUSTOMER_DATA(cust123456))
GeneralClientService.getServiceToken(CreditBureau:b782b438, GET_CREDIT_REPORT(taxId234))
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[getCreditReport:7><automated>:8f861f11] - getAuthTokenDirect(AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY)) = AuthToken(5efe10968082a4dd - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234))
CreditBureau.getCreditReport()
[getCreditReport:7><automated>:8f861f11] - validateTokenPermissions(clientId = CreditBureau:b782b438, token = AuthToken(5efe10968082a4dd - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)), scope = GET_CREDIT_REPORT(taxId234))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:7)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:7)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:7)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:7)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:7)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:7, AuthToken(7ffb0e9ef0d16244 - <automated>:8f861f11[act=7] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:7, AuthToken(9dfc4c50205bf37 - <automated>:8f861f11[act=7] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[UNAUTH] - invalidateActivityTokens/token(H:7, AuthToken(5efe10968082a4dd - <automated>:8f861f11[act=7] -> CreditBureau:b782b438.GET_CREDIT_REPORT(taxId234)))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:8, <automated>:8f861f11->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 277b56b7c7acb255, token = AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:8, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:8, <automated>:8f861f11->Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = dd91f4a84693ef87, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:8, <automated>:8f861f11->Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456)))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:8, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:8, Credit_Application:9965ca2d->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = dd91f4a84693ef87, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:8, Credit_Application:9965ca2d->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[GLOBAL><automated>:8f861f11] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(<automated>:8f861f11)=a3974a5c6f1ed296, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL><automated>:8f861f11] - authTokenFromAuthorization(authorization = AuthorizationCode(code=277b56b7c7acb255, principal=<automated>:8f861f11)) = AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY)
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY), scope = GRANT_ACTIVITY_PERMISSION(H:8, Credit_Application:9965ca2d->Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[getLoanEvaluation:8><automated>:8f861f11] - createAuthorizationCode(code = f2cf88117ee66be0, token = AuthToken(55a573a77b359b17 - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
GeneralClientService.getServiceToken(Credit_Application:9965ca2d, EVALUATE_LOAN(cust123456, # <= 10000.0))
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[getLoanEvaluation:8><automated>:8f861f11] - getAuthTokenDirect(AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY)) = AuthToken(cc0e1a69775fa380 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0))
CreditApplication.evaluateLoan(LoanApplication(customerId=cust123456, amount=10000.0, collateral=[CustomerCollateral(type=house, value=100000, segment=residential)]))
[getLoanEvaluation:8><automated>:8f861f11] - validateTokenPermissions(clientId = Credit_Application:9965ca2d, token = AuthToken(cc0e1a69775fa380 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0)), scope = MonetaryUseScope(scope=EVALUATE_LOAN, customerId='cust123456', amount=10000.0))
[GLOBAL>Credit_Application:9965ca2d] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Credit_Application:9965ca2d)=491492f9783c5061, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Credit_Application:9965ca2d] - authTokenFromAuthorization(authorization = AuthorizationCode(code=f2cf88117ee66be0, principal=Credit_Application:9965ca2d)) = AuthToken(55a573a77b359b17 - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456))
CustomerInformationFile.getCustomerData(cust123456)
[getLoanEvaluation:8>Credit_Application:9965ca2d] - validateTokenPermissions(clientId = Customer_Information_File:e1baf537, token = AuthToken(55a573a77b359b17 - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)), scope = QUERY_CUSTOMER_DATA(cust123456))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:8)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:8)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:8)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:8)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:8)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:8, AuthToken(dd91f4a84693ef87 - <automated>:8f861f11[act=8] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:8, AuthToken(55a573a77b359b17 - Credit_Application:9965ca2d[act=8] -> Customer_Information_File:e1baf537.QUERY_CUSTOMER_DATA(cust123456)))
[UNAUTH] - invalidateActivityTokens/token(H:8, AuthToken(cc0e1a69775fa380 - <automated>:8f861f11[act=8] -> Credit_Application:9965ca2d.EVALUATE_LOAN(cust123456, # <= 10000.0)))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:9)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:9)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:9)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:9)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:9)) from AuthService.invalidateActivityTokens
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:3)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:3)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:3)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:3)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:3)) from AuthService.invalidateActivityTokens
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:10)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:10)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:10)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:10)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:10)) from AuthService.invalidateActivityTokens
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:12)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:12)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = IDENTIFY) from AuthService.getAuthCommon
[GLOBAL>ProcessEngine:fd8ffe3a] - getAuthTokenDirect(PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67) - reuse = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:12)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:12)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:12)) from AuthService.invalidateActivityTokens
EngineService.registerActivityToTaskList(H:13)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:13, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = a83c357f88b3bc35, token = AuthToken(2d37a6b6af07eea - TaskList(postprocessing clerk 2):a1ba717[act=13] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=a83c357f88b3bc35, principal=TaskList(postprocessing clerk 2):a1ba717), H:13)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=a83c357f88b3bc35, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(2d37a6b6af07eea - TaskList(postprocessing clerk 2):a1ba717[act=13] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717) = already logged in - AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
TaskList(postprocessing clerk 2).acceptActivity(H:13, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(2d37a6b6af07eea - TaskList(postprocessing clerk 2):a1ba717[act=13] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))), H:13, postprocessing clerk 2)
[priceBundledProduct:13>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(2d37a6b6af07eea - TaskList(postprocessing clerk 2):a1ba717[act=13] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))), scope = ACCEPT_TASK(H:13))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:13, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 1166353e63a5d0a1, token = AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:13, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:13, postprocessing clerk 2->Pricing_Engine:5682af11.PRICE_LOAN()))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 750e04dc3fe39b0f, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:13, postprocessing clerk 2->Pricing_Engine:5682af11.PRICE_LOAN()))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=1166353e63a5d0a1, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=1166353e63a5d0a1, principal=postprocessing clerk 2)) = AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY))
TaskList(postprocessing clerk 2).loginToService(Pricing_Engine:5682af11)
Browser(postprocessing clerk 2).loginToService(Pricing_Engine:5682af11)
[priceBundledProduct:13>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[priceBundledProduct:13>postprocessing clerk 2] - getAuthorizationCode(AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=76f84ccc4914ea5f, principal=Pricing_Engine:5682af11) -> AuthToken(470d8e23e3c46af9 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN())
[GLOBAL>Pricing_Engine:5682af11] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Pricing_Engine:5682af11)=16683f75f791e15d, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Pricing_Engine:5682af11] - authTokenFromAuthorization(authorization = AuthorizationCode(code=76f84ccc4914ea5f, principal=Pricing_Engine:5682af11)) = AuthToken(470d8e23e3c46af9 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN())
Browser(postprocessing clerk 2).addToken(AuthToken(470d8e23e3c46af9 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN()))
PricingEngine.priceLoan(LoanProductBundle(name='simpleLoan', id='simpleLoan2019.a'))
[priceBundledProduct:13>postprocessing clerk 2] - validateTokenPermissions(clientId = Pricing_Engine:5682af11, token = AuthToken(470d8e23e3c46af9 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN()), scope = MonetaryUseScope(scope=PRICE_LOAN, customerId='cust123456', amount=10000.0))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:13)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:13)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:13)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:13)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:13)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:13, AuthToken(2d37a6b6af07eea - TaskList(postprocessing clerk 2):a1ba717[act=13] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:13) && ACCEPT_TASK(H:13))))
[UNAUTH] - invalidateActivityTokens/token(H:13, AuthToken(750e04dc3fe39b0f - postprocessing clerk 2[act=13] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:13, AuthToken(470d8e23e3c46af9 - postprocessing clerk 2[act=13] -> Pricing_Engine:5682af11.PRICE_LOAN()))
EngineService.registerActivityToTaskList(H:14)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:14, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = e8dbe4da19251b4c, token = AuthToken(df340d9b8a2c7a88 - TaskList(postprocessing clerk 2):a1ba717[act=14] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=e8dbe4da19251b4c, principal=TaskList(postprocessing clerk 2):a1ba717), H:14)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=e8dbe4da19251b4c, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(df340d9b8a2c7a88 - TaskList(postprocessing clerk 2):a1ba717[act=14] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717) = already logged in - AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
TaskList(postprocessing clerk 2).acceptActivity(H:14, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(df340d9b8a2c7a88 - TaskList(postprocessing clerk 2):a1ba717[act=14] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))), H:14, postprocessing clerk 2)
[approveOffer:14>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(df340d9b8a2c7a88 - TaskList(postprocessing clerk 2):a1ba717[act=14] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))), scope = ACCEPT_TASK(H:14))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:14, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = a22b322031b6ec02, token = AuthToken(b16098d956df7e90 - postprocessing clerk 2[act=14] -> AuthService:149244ff.IDENTIFY))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=a22b322031b6ec02, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=a22b322031b6ec02, principal=postprocessing clerk 2)) = AuthToken(b16098d956df7e90 - postprocessing clerk 2[act=14] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(b16098d956df7e90 - postprocessing clerk 2[act=14] -> AuthService:149244ff.IDENTIFY))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:14)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:14)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:14)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:14)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:14)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:14, AuthToken(df340d9b8a2c7a88 - TaskList(postprocessing clerk 2):a1ba717[act=14] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:14) && ACCEPT_TASK(H:14))))
[UNAUTH] - invalidateActivityTokens/token(H:14, AuthToken(b16098d956df7e90 - postprocessing clerk 2[act=14] -> AuthService:149244ff.IDENTIFY))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:15)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:15)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:15)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:15)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:15)) from AuthService.invalidateActivityTokens
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:11)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:11)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:11)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:11)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:11)) from AuthService.invalidateActivityTokens
EngineService.registerActivityToTaskList(H:16)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:16, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 73748f714fccac54, token = AuthToken(d53df99a647e3342 - TaskList(postprocessing clerk 2):a1ba717[act=16] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=73748f714fccac54, principal=TaskList(postprocessing clerk 2):a1ba717), H:16)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=73748f714fccac54, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(d53df99a647e3342 - TaskList(postprocessing clerk 2):a1ba717[act=16] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717) = already logged in - AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
TaskList(postprocessing clerk 2).acceptActivity(H:16, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(d53df99a647e3342 - TaskList(postprocessing clerk 2):a1ba717[act=16] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))), H:16, postprocessing clerk 2)
[printOffer:16>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(d53df99a647e3342 - TaskList(postprocessing clerk 2):a1ba717[act=16] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))), scope = ACCEPT_TASK(H:16))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:16, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 26f0b631a265152b, token = AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:16, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:16, postprocessing clerk 2->Output_Management_System:e655d173.PRINT_OFFER))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 926f72d57d12d818, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:16, postprocessing clerk 2->Output_Management_System:e655d173.PRINT_OFFER))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=26f0b631a265152b, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=26f0b631a265152b, principal=postprocessing clerk 2)) = AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY))
TaskList(postprocessing clerk 2).loginToService(Output_Management_System:e655d173)
Browser(postprocessing clerk 2).loginToService(Output_Management_System:e655d173)
[printOffer:16>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[printOffer:16>postprocessing clerk 2] - getAuthorizationCode(AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=3d8d9228d4d76a48, principal=Output_Management_System:e655d173) -> AuthToken(a7e7e8bc83bcbe12 - postprocessing clerk 2[act=16] -> Output_Management_System:e655d173.PRINT_OFFER)
[GLOBAL>Output_Management_System:e655d173] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Output_Management_System:e655d173)=93cc37cdf72f52d4, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Output_Management_System:e655d173] - authTokenFromAuthorization(authorization = AuthorizationCode(code=3d8d9228d4d76a48, principal=Output_Management_System:e655d173)) = AuthToken(a7e7e8bc83bcbe12 - postprocessing clerk 2[act=16] -> Output_Management_System:e655d173.PRINT_OFFER)
Browser(postprocessing clerk 2).addToken(AuthToken(a7e7e8bc83bcbe12 - postprocessing clerk 2[act=16] -> Output_Management_System:e655d173.PRINT_OFFER))
OutputManagementSystem.registerAndPrintOffer(PricedLoanProductBundle(name='simpleLoan', id='simpleLoan2019.a', customerId='cust123456', price=0.05, approvedOffer=true, amount=10000.0))
[printOffer:16>postprocessing clerk 2] - validateTokenPermissions(clientId = Output_Management_System:e655d173, token = AuthToken(a7e7e8bc83bcbe12 - postprocessing clerk 2[act=16] -> Output_Management_System:e655d173.PRINT_OFFER), scope = PRINT_OFFER)
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:16)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:16)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:16)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:16)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:16)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:16, AuthToken(d53df99a647e3342 - TaskList(postprocessing clerk 2):a1ba717[act=16] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:16) && ACCEPT_TASK(H:16))))
[UNAUTH] - invalidateActivityTokens/token(H:16, AuthToken(926f72d57d12d818 - postprocessing clerk 2[act=16] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:16, AuthToken(a7e7e8bc83bcbe12 - postprocessing clerk 2[act=16] -> Output_Management_System:e655d173.PRINT_OFFER))
EngineService.registerActivityToTaskList(H:17)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:17, TaskList(John Doe):453f500a->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 9bb5038fc030a42a, token = AuthToken(a5001a0a3fa37ed7 - TaskList(John Doe):453f500a[act=17] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))))
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).postTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), AuthorizationCode(code=9bb5038fc030a42a, principal=TaskList(John Doe):453f500a), H:17)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(John Doe):453f500a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(John Doe):453f500a)=9350e9e59c352b71, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(John Doe):453f500a] - authTokenFromAuthorization(authorization = AuthorizationCode(code=9bb5038fc030a42a, principal=TaskList(John Doe):453f500a)) = AuthToken(a5001a0a3fa37ed7 - TaskList(John Doe):453f500a[act=17] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17)))
Browser(John Doe).loginToService(TaskList(John Doe):453f500a) = already logged in - AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK)
TaskList(John Doe).acceptActivity(H:17, John Doe)
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(a22d2fb81bd8ca4a - John Doe[act=-1] -> TaskList(John Doe):453f500a.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(a5001a0a3fa37ed7 - TaskList(John Doe):453f500a[act=17] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))), H:17, John Doe)
[customerSignsContract:17>TaskList(John Doe):453f500a] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(a5001a0a3fa37ed7 - TaskList(John Doe):453f500a[act=17] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))), scope = ACCEPT_TASK(H:17))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:17, John Doe->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 65631e2cae968f9, token = AuthToken(93c5071eb4571076 - John Doe[act=17] -> AuthService:149244ff.IDENTIFY))
Browser(John Doe).addTokenFromAuth(AuthorizationCode(code=65631e2cae968f9, principal=John Doe))
[<unknown node>:-1>John Doe] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(63f088624766ce9f - John Doe[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>John Doe] - authTokenFromAuthorization(authorization = AuthorizationCode(code=65631e2cae968f9, principal=John Doe)) = AuthToken(93c5071eb4571076 - John Doe[act=17] -> AuthService:149244ff.IDENTIFY)
Browser(John Doe).addToken(AuthToken(93c5071eb4571076 - John Doe[act=17] -> AuthService:149244ff.IDENTIFY))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:17)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:17)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:17)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:17)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:17)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:17, AuthToken(a5001a0a3fa37ed7 - TaskList(John Doe):453f500a[act=17] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:17) && ACCEPT_TASK(H:17))))
[UNAUTH] - invalidateActivityTokens/token(H:17, AuthToken(93c5071eb4571076 - John Doe[act=17] -> AuthService:149244ff.IDENTIFY))
EngineService.registerActivityToTaskList(H:18)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:18, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 1eaf2edb91e56933, token = AuthToken(2678ae56ca5c2f67 - TaskList(postprocessing clerk 2):a1ba717[act=18] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=1eaf2edb91e56933, principal=TaskList(postprocessing clerk 2):a1ba717), H:18)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=1eaf2edb91e56933, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(2678ae56ca5c2f67 - TaskList(postprocessing clerk 2):a1ba717[act=18] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717) = already logged in - AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
TaskList(postprocessing clerk 2).acceptActivity(H:18, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(2678ae56ca5c2f67 - TaskList(postprocessing clerk 2):a1ba717[act=18] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))), H:18, postprocessing clerk 2)
[bankSignsContract:18>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(2678ae56ca5c2f67 - TaskList(postprocessing clerk 2):a1ba717[act=18] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))), scope = ACCEPT_TASK(H:18))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:18, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = 7df49610d640d500, token = AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:18, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:18, postprocessing clerk 2->Output_Management_System:e655d173.SIGN_LOAN(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 5e588a26b1ed0a8a, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:18, postprocessing clerk 2->Output_Management_System:e655d173.SIGN_LOAN(cust123456)))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=7df49610d640d500, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=7df49610d640d500, principal=postprocessing clerk 2)) = AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY))
TaskList(postprocessing clerk 2).loginToService(Output_Management_System:e655d173)
Browser(postprocessing clerk 2).loginToService(Output_Management_System:e655d173)
[bankSignsContract:18>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[bankSignsContract:18>postprocessing clerk 2] - getAuthorizationCode(AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=3c5df989f8f7f264, principal=Output_Management_System:e655d173) -> AuthToken(32e2ef8e2eeab578 - postprocessing clerk 2[act=18] -> Output_Management_System:e655d173.SIGN_LOAN(cust123456))
[GLOBAL>Output_Management_System:e655d173] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Output_Management_System:e655d173)=93cc37cdf72f52d4, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Output_Management_System:e655d173] - authTokenFromAuthorization(authorization = AuthorizationCode(code=3c5df989f8f7f264, principal=Output_Management_System:e655d173)) = AuthToken(32e2ef8e2eeab578 - postprocessing clerk 2[act=18] -> Output_Management_System:e655d173.SIGN_LOAN(cust123456))
Browser(postprocessing clerk 2).addToken(AuthToken(32e2ef8e2eeab578 - postprocessing clerk 2[act=18] -> Output_Management_System:e655d173.SIGN_LOAN(cust123456)))
OutputManagementSystem.signAndRegisterContract(Offer(id=1be7933ae639642, customerId=cust123456, customerSignature=Signed by 'John Doe'), Signed by 'the bank manager')
[bankSignsContract:18>postprocessing clerk 2] - validateTokenPermissions(clientId = Output_Management_System:e655d173, token = AuthToken(32e2ef8e2eeab578 - postprocessing clerk 2[act=18] -> Output_Management_System:e655d173.SIGN_LOAN(cust123456)), scope = MonetaryUseScope(scope=SIGN_LOAN, customerId='cust123456', amount=10000.0))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:18)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:18)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:18)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:18)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:18)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:18, AuthToken(2678ae56ca5c2f67 - TaskList(postprocessing clerk 2):a1ba717[act=18] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:18) && ACCEPT_TASK(H:18))))
[UNAUTH] - invalidateActivityTokens/token(H:18, AuthToken(5e588a26b1ed0a8a - postprocessing clerk 2[act=18] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:18, AuthToken(32e2ef8e2eeab578 - postprocessing clerk 2[act=18] -> Output_Management_System:e655d173.SIGN_LOAN(cust123456)))
EngineService.registerActivityToTaskList(H:19)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:19, TaskList(postprocessing clerk 2):a1ba717->ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19)))) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = d492488d5b01db60, token = AuthToken(9d2a1112a97191a6 - TaskList(postprocessing clerk 2):a1ba717[act=19] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))))
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).postTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), AuthorizationCode(code=d492488d5b01db60, principal=TaskList(postprocessing clerk 2):a1ba717), H:19)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(TaskList(postprocessing clerk 2):a1ba717)=fd80699911600cb1, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>TaskList(postprocessing clerk 2):a1ba717] - authTokenFromAuthorization(authorization = AuthorizationCode(code=d492488d5b01db60, principal=TaskList(postprocessing clerk 2):a1ba717)) = AuthToken(9d2a1112a97191a6 - TaskList(postprocessing clerk 2):a1ba717[act=19] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19)))
Browser(postprocessing clerk 2).loginToService(TaskList(postprocessing clerk 2):a1ba717) = already logged in - AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK)
TaskList(postprocessing clerk 2).acceptActivity(H:19, postprocessing clerk 2)
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(7187be0ce277a18d - postprocessing clerk 2[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.ACCEPT_TASK), scope = ACCEPT_TASK)
EngineService.acceptActivity(AuthToken(9d2a1112a97191a6 - TaskList(postprocessing clerk 2):a1ba717[act=19] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))), H:19, postprocessing clerk 2)
[openAccount:19>TaskList(postprocessing clerk 2):a1ba717] - validateTokenPermissions(clientId = ProcessEngine:fd8ffe3a, token = AuthToken(9d2a1112a97191a6 - TaskList(postprocessing clerk 2):a1ba717[act=19] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))), scope = ACCEPT_TASK(H:19))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:19, postprocessing clerk 2->AuthService:149244ff.IDENTIFY)) from AuthService.createAuthorizationCodeImpl
[GLOBAL>ProcessEngine:fd8ffe3a] - createAuthorizationCode(code = eed0e94184f22455, token = AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY))
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = GRANT_ACTIVITY_PERMISSION(H:19, ProcessEngine:fd8ffe3a->AuthService:149244ff.GRANT_ACTIVITY_PERMISSION(H:19, postprocessing clerk 2->Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))) from AuthService.grantPermission
[GLOBAL>ProcessEngine:fd8ffe3a] - grantPermission(token = 2e887b5d75edaebc, serviceId = AuthService:149244ff, scope = GRANT_ACTIVITY_PERMISSION(H:19, postprocessing clerk 2->Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))
Browser(postprocessing clerk 2).addTokenFromAuth(AuthorizationCode(code=eed0e94184f22455, principal=postprocessing clerk 2))
[<unknown node>:-1>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(df6db7b9083ba669 - postprocessing clerk 2[act=-1] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[<unknown node>:-1>postprocessing clerk 2] - authTokenFromAuthorization(authorization = AuthorizationCode(code=eed0e94184f22455, principal=postprocessing clerk 2)) = AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY)
Browser(postprocessing clerk 2).addToken(AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY))
TaskList(postprocessing clerk 2).loginToService(Account_Management_System:3298b915)
Browser(postprocessing clerk 2).loginToService(Account_Management_System:3298b915)
[openAccount:19>postprocessing clerk 2] - validateTokenPermissions(clientId = AuthService:149244ff, token = AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY), scope = IDENTIFY)
[openAccount:19>postprocessing clerk 2] - getAuthorizationCode(AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY)) = AuthorizationCode(code=34ac18ffbb0db9e4, principal=Account_Management_System:3298b915) -> AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456))
[GLOBAL>Account_Management_System:3298b915] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(Account_Management_System:3298b915)=6918ef2d7ad94081, scope = IDENTIFY) from AuthService.getAuthToken
[GLOBAL>Account_Management_System:3298b915] - authTokenFromAuthorization(authorization = AuthorizationCode(code=34ac18ffbb0db9e4, principal=Account_Management_System:3298b915)) = AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456))
Browser(postprocessing clerk 2).addToken(AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))
AccountManagementSystem.openAccountFor(AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)), Contract(id=ef5bea43244cb63b, offerId=1be7933ae639642, customerId=cust123456, customerSignature=Signed by 'John Doe', bankSignature=Signed by 'the bank manager'))
[openAccount:19>postprocessing clerk 2] - validateTokenPermissions(clientId = Account_Management_System:3298b915, token = AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)), scope = OPEN_ACCOUNT(cust123456))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:19)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:19)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:19)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:19)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:19)) from AuthService.invalidateActivityTokens
[UNAUTH] - invalidateActivityTokens/token(H:19, AuthToken(9d2a1112a97191a6 - TaskList(postprocessing clerk 2):a1ba717[act=19] -> ProcessEngine:fd8ffe3a.(UPDATE_ACTIVITY_STATE(H:19) && ACCEPT_TASK(H:19))))
[UNAUTH] - invalidateActivityTokens/token(H:19, AuthToken(2e887b5d75edaebc - postprocessing clerk 2[act=19] -> AuthService:149244ff.IDENTIFY))
[UNAUTH] - invalidateActivityTokens/token(H:19, AuthToken(52838a98ed9ebe45 - postprocessing clerk 2[act=19] -> Account_Management_System:3298b915.OPEN_ACCOUNT(cust123456)))
EngineService.authTokenForService(TaskList(preprocessing clerk 1):deeb152d, AnyScope)
TaskList(preprocessing clerk 1).unregisterTask(AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), H:20)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(preprocessing clerk 1):deeb152d, token = AuthToken(efb092c0f6f3a83f - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(preprocessing clerk 1):deeb152d.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(John Doe):453f500a, AnyScope)
TaskList(John Doe).unregisterTask(AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), H:20)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(John Doe):453f500a, token = AuthToken(6a6cf22e4f8d7ffb - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(John Doe):453f500a.POST_TASK), scope = POST_TASK)
EngineService.authTokenForService(TaskList(postprocessing clerk 2):a1ba717, AnyScope)
TaskList(postprocessing clerk 2).unregisterTask(AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), H:20)
[<unknown node>:-1>ProcessEngine:fd8ffe3a] - validateTokenPermissions(clientId = TaskList(postprocessing clerk 2):a1ba717, token = AuthToken(4ae3430e09910c87 - ProcessEngine:fd8ffe3a[act=-1] -> TaskList(postprocessing clerk 2):a1ba717.POST_TASK), scope = POST_TASK)
[GLOBAL>ProcessEngine:fd8ffe3a] - invalidateActivityTokens(H:20)
[GLOBAL>ProcessEngine:fd8ffe3a] - validateUserPermissions(clientId = AuthService:149244ff, authInfo = PW(ProcessEngine:fd8ffe3a)=b052b4deed2f0b67, scope = UPDATE_ACTIVITY_STATE(H:20)) from AuthService.invalidateActivityTokens
